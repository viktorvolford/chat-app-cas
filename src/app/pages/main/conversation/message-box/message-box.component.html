<div class="message">
    <mat-card [ngClass]="message.sender_id === loggedInUser ? 'my_message' : 'other_message'" class="mat-elevation-z4">
        <mat-card-header>
            <mat-icon mat-card-avatar>face</mat-icon>
            <mat-card-title>
                {{ message.sender_id | fullName:users }}
            </mat-card-title>
            <mat-card-subtitle>
                {{ message.sender_id | username:users }}
            </mat-card-subtitle>
            <mat-icon *ngIf="message.sender_id === loggedInUser" [matMenuTriggerFor]="menu" class="options" aria-label="Options">more_vert</mat-icon>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="onDelete(message)">
                  <mat-icon>delete</mat-icon>
                  <span>{{'COMMON.DELETE' | translate}}</span>
                </button>
                <button mat-menu-item (click)="onOpenEditDialog(message)">
                  <mat-icon>edit</mat-icon>
                  <span>{{'COMMON.EDIT' | translate}}</span>
                </button>
              </mat-menu>
        </mat-card-header>
        <mat-card-content>
            {{ message.content }}
        </mat-card-content>
        <mat-card-footer>
            {{ message.date | date:'short'}}
        </mat-card-footer>
    </mat-card>          
</div>
