<div class="main_container">
    <h1>{{targetName}}</h1>
    <div *ngFor="let message of messages; let i = index;">
        <mat-card [ngStyle]="{'background-color' : i % 2 === 0 ? '#aee3fc' : '#579af7'}" class="mat-elevation-z4">
            <mat-card-header>
                <mat-icon mat-card-avatar>face</mat-icon>
                <mat-card-title>
                    {{ getName(message.sender_id) }}
                </mat-card-title>
                <mat-card-subtitle>
                    {{ getUsername(message.sender_id) }}
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                {{ message.content }}
            </mat-card-content>
            <mat-card-footer>
                {{ message.date | date:'short'}}
            </mat-card-footer>
        </mat-card>
    </div>
    <form [formGroup]="messageForm" (ngSubmit)="sendMessage()">
        <mat-form-field>
            <mat-label for="content">Message: </mat-label>
            <textarea matInput rows="10" cols="50" formControlName="content" placeholder="Say something..."></textarea>
        </mat-form-field>
    
        <div class="break"></div>
        <span>
            <span><button mat-raised-button color="primary" type="submit">Send</button></span>
        </span>
    </form>
</div>
